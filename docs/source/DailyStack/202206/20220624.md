# 2022/06/24

## commit-mate
twitterã§è¦‹ã¤ã‘ãŸcommit-mateã¨ã„ã†ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ ã—ã¦ã¿ã¦

### commit-mateã‹ã‚‰æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ä½œæ¥­
1. ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚©ãƒ¼ã‚¯ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
3. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
4. commit-mate/components/Member.vueã¸menberæƒ…å ±ã®è¿½åŠ 
5. å¤‰æ›´ã®ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
6. GitHub UIã§ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é€ä¿¡ã™ã‚‹

### yarnã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
yarnã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã„ãŸã®ã§ã€ã¨ã‚Šã‚ãˆãšã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>
```
% brew update
% brew yarn
% yarn
env: node: No such file or directory
```
ã©ã†ã‚„ã‚‰yarnã«ã¯nodeãŒå¿…è¦ã§ã€ãªã‚“ãªã‚‰nodeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã®ã§npmçµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¹ãã‚‰ã—ã„<br>
```
% brew install npm
% npm -v
8.12.1
% node -v
v18.4.0
% yarn -v
1.22.19
```
â†‘ç¾çŠ¶brewã§npmã¨yarnã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹<br>
ã“ã‚Œã ã¨ã†ã¾ãå‹•ã„ã¦ãã‚Œãªã‹ã£ãŸ<br>
npmçµŒç”±ã§yarnã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ç›´ã—<br>
```
% npm install -g yarn
npm notice 
npm notice New minor version of npm available! 8.12.1 -> 8.13.1
npm notice Changelog: https://github.com/npm/cli/releases/tag/v8.13.1
npm notice Run npm install -g npm@8.13.1 to update!
npm notice 
npm ERR! code EEXIST
npm ERR! path /usr/local/bin/yarn
npm ERR! EEXIST: file already exists
npm ERR! File exists: /usr/local/bin/yarn
npm ERR! Remove the existing file and try again, or run npm
npm ERR! with --force to overwrite files recklessly.

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/hiroaki/.npm/_logs/2022-06-23T21_29_01_239Z-debug-0.log
```

ã¨ã‚Šã‚ãˆãšbrewã§å…¥ã‚Œã¦ã—ã¾ã£ãŸã‚‚ã®ã‚’æ¶ˆã—ã¦å†åº¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>

```
% brew uninstall yarn
% npm install -g yarn

added 1 package, and audited 2 packages in 927ms

found 0 vulnerabilities
```
å…¥ã£ãŸã¿ãŸã„ã€‚<br>

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æŒ‡å®šã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

èª¬æ˜ã«`yarn`or`yarn install`ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ãŸã®ã§å®Ÿè¡Œ<br>
```
% yarn
yarn install v1.22.19
[1/4] ğŸ”  Resolving packages...
[2/4] ğŸšš  Fetching packages...
warning vscode-languageclient@7.0.0: The engine "vscode" appears to be invalid.
[3/4] ğŸ”—  Linking dependencies...
warning " > @iconify/vue@3.2.1" has unmet peer dependency "vue@3.x".
warning "@nuxtjs/tailwindcss > @nuxt/postcss8 > css-loader@5.2.7" has unmet peer dependency "webpack@^4.27.0 || ^5.0.0".
warning "@nuxtjs/tailwindcss > @nuxt/postcss8 > postcss-loader@4.3.0" has unmet peer dependency "webpack@^4.0.0 || ^5.0.0".
warning " > @tailwindcss/typography@0.5.2" has unmet peer dependency "tailwindcss@>=3.0.0 || >= 3.0.0-alpha.1 || insiders".
warning "nuxt > @nuxt/vite-builder@3.0.0-rc.3" has incorrect peer dependency "vue@3.2.33".
[4/4] ğŸ”¨  Building fresh packages...
âœ¨  Done in 27.95s.
```

### nuxtã§ã‚µã‚¤ãƒˆã‚’ç”Ÿæˆã—ã¦ã„ã‚‹ã‚ˆã†ã ã£ãŸã®ã§â€¦
nuxtã®å®Ÿè¡Œæ–¹æ³•ã‚’æ¤œç´¢<br>
ã¨ã‚Šã‚ãˆãšpackage.jsonã‚’å‚ç…§ã™ã‚‹ã¨è‰¯ã„ã¿ãŸã„<br>
```
~çœç•¥~
  "scripts": {
    "build": "nuxt build",
    "dev": "nuxt dev",
    "generate": "nuxt generate",
    "preview": "nuxt preview"
  },
~çœç•¥~
```

- ãƒ“ãƒ«ãƒ‰
     `% nuxt build` or `% npm run build`<br>
- é–‹ç™ºã‚µãƒ¼ãƒã®èµ·å‹•
     `% nuxt dev` or `% npm run dev`<br>
- ã‚µã‚¤ãƒˆç”Ÿæˆ
     `% nuxt generate` or `% npm run generate`<br>
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
     `% nuxt preview` or `% npm run preview`<br>

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼Ÿnuxt.config.ts
```
% cat nuxt.config.ts 
import { defineNuxtConfig } from 'nuxt'

// https://v3.nuxtjs.org/api/configuration/nuxt.config
export default defineNuxtConfig({
  components: {
    global: true,
    dirs: ['~/components']
  },
  modules: [
    '@nuxt/content',
    '@nuxtjs/tailwindcss',
    '@nuxtjs/color-mode',
  ],
  // https://color-mode.nuxtjs.org
  colorMode: {
    classSuffix: '',
  },
  // https://content.nuxtjs.org
  content: {
    navigation: {
      fields: ['navTitle'],
    },
  }
})
```
componentsã‚’èª­ã¿è¾¼ã‚“ã§ã‚µã‚¤ãƒˆã®ç”Ÿæˆã‚’ã™ã‚‹ã®ã‹ãªï¼Ÿ<br>

### npm run buildã—ã¦ã¿ãŸ
```
% npm run build

> build
> nuxt build

Nuxt CLI v3.0.0-rc.3                                                  08:37:48
âœ” Using ~/components/content for components in Markdown @nuxt/content 08:37:50
â„¹ Using default Tailwind CSS file from runtime/tailwind.css
â„¹ Merging Tailwind config from ~/tailwind.config.js  nuxt:tailwindcss 08:37:50

 ERROR  (node:20790) ExperimentalWarning: The Fetch API is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)

â„¹ Vite client warmed up in 3865ms                                     08:37:55
â„¹ Client built in 3925ms                                              08:37:55
â„¹ Building server...                                                  08:37:55
âœ” Server built in 1483ms                                              08:37:57
âœ” Generated public .output/public                               nitro 08:37:57
â„¹ Initializing prerenderer                                      nitro 08:37:57
â„¹ Prerendering 1 routes                                         nitro 08:38:03
  â”œâ”€ /api/_content/cache (107ms)                                nitro 08:38:03
start Building server...                                        nitro 08:38:03
start Writing server bundle...                                  nitro 08:38:10
âœ” Server built                                                  nitro 08:38:11
  â”œâ”€ .output/server/package.json (3.6 kB) (1.08 kB gzip)
  â”œâ”€ .output/server/index.mjs (1.25 kB) (485 B gzip)
  â”œâ”€ .output/server/chunks/raw/7.pullrequest.mjs.map (105 B) (105 B gzip)
  â”œâ”€ .output/server/chunks/raw/7.pullrequest.mjs (2.81 kB) (768 B gzip)
  â”œâ”€ .output/server/chunks/raw/6.commit.mjs.map (100 B) (103 B gzip)
  â”œâ”€ .output/server/chunks/raw/6.commit.mjs (3.91 kB) (852 B gzip)
  â”œâ”€ .output/server/chunks/raw/5.component.mjs.map (103 B) (104 B gzip)
  â”œâ”€ .output/server/chunks/raw/5.component.mjs (4.07 kB) (921 B gzip)
  â”œâ”€ .output/server/chunks/raw/4.package.mjs.map (101 B) (103 B gzip)
  â”œâ”€ .output/server/chunks/raw/4.package.mjs (4.1 kB) (903 B gzip)
  â”œâ”€ .output/server/chunks/raw/3.clone2.mjs.map (100 B) (102 B gzip)
  â”œâ”€ .output/server/chunks/raw/3.clone2.mjs (2.44 kB) (702 B gzip)
  â”œâ”€ .output/server/chunks/raw/2.clone1.mjs.map (100 B) (102 B gzip)
  â”œâ”€ .output/server/chunks/raw/2.clone1.mjs (2.37 kB) (724 B gzip)
  â”œâ”€ .output/server/chunks/raw/2.about.mjs.map (99 B) (102 B gzip)
  â”œâ”€ .output/server/chunks/raw/2.about.mjs (878 B) (382 B gzip)
  â”œâ”€ .output/server/chunks/raw/1.home.mjs.map (98 B) (101 B gzip)
  â”œâ”€ .output/server/chunks/raw/1.home.mjs (871 B) (384 B gzip)
  â”œâ”€ .output/server/chunks/raw/1.fork.mjs.map (98 B) (101 B gzip)
  â”œâ”€ .output/server/chunks/raw/1.fork.mjs (4.81 kB) (1.01 kB gzip)
  â”œâ”€ .output/server/chunks/nitro/node-server.mjs.map (416 kB) (24.8 kB gzip)
  â”œâ”€ .output/server/chunks/nitro/node-server.mjs (112 kB) (26.9 kB gzip)
  â”œâ”€ .output/server/chunks/handlers/renderer.mjs.map (1.92 MB) (91.1 kB gzip)
  â”œâ”€ .output/server/chunks/handlers/renderer.mjs (430 kB) (98.5 kB gzip)
  â”œâ”€ .output/server/chunks/app/server.mjs.map (313 kB) (38.4 kB gzip)
  â”œâ”€ .output/server/chunks/app/server.mjs (290 kB) (64.1 kB gzip)
  â”œâ”€ .output/server/chunks/app/client.manifest.mjs.map (8.46 kB) (869 B gzip)
  â””â”€ .output/server/chunks/app/client.manifest.mjs (14.9 kB) (1.48 kB gzip)
Î£ Total size: 7.75 MB (1.44 MB gzip)
âœ” You can preview this build using node .output/server/index.mjs
```
.outputãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å¤§é‡ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹â€¦<br>
å¤šåˆ†sphinxã§ã„ã†buildãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚ˆã†ãªã‚‚ã®<br>
â€»11è¡Œç›®ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹ã®ã¯å¾Œã§è§£æ±º<br>

### npm run devã®å®Ÿè¡Œ
```
% npm run dev

> dev
> nuxt dev


Nuxt CLI v3.0.0-rc.3                                                  09:17:43
                                                                      09:17:43
  > Local:    http://localhost:3000/ 
  > Network:  http://192.168.3.21:3000/

âœ” Using ~/components/content for components in Markdown @nuxt/content 09:17:46
â„¹ Using default Tailwind CSS file from runtime/tailwind.css
â„¹ Merging Tailwind config from ~/tailwind.config.js  nuxt:tailwindcss 09:17:46

 ERROR  (node:21332) ExperimentalWarning: The Fetch API is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)

â„¹ Tailwind Viewer: http://localhost:3000/_tailwind/  nuxt:tailwindcss 09:17:46
â„¹ Vite server warmed up in 151ms                                      09:17:50
â„¹ Vite client warmed up in 2225ms                                     09:17:50
âœ” Vite server built in 1692ms                                         09:17:52
âœ” Nitro built in 1223 ms                                        nitro 09:17:53
```
é–‹ç™ºç”¨ã®ã‚µã‚¤ãƒˆãŒlocalhostã®3000portã«ï¼ï¼<br>
â€»11è¡Œç›®ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹ã®ã¯å¾Œã§è§£æ±º<br>

### ã‚¨ãƒ©ãƒ¼å¯¾å‡¦
ã‚¨ãƒ©ãƒ¼ã®å†…å®¹
```
 ERROR  (node:21332) ExperimentalWarning: The Fetch API is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
```
ã“ã‚Œã¯nodeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã›ã„ã§å‡ºã‚‹ã‚‰ã—ã„(Fetch APIãŒã†ã¾ãå‹•ã„ã¦ãªã„)<br>
nodeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ18ãªã®ã§ã€17ã«ä¸‹ã’ã‚‹ã¨è‰¯ã„ã‚‰ã—ã„è¨˜äº‹ã‚’è¦‹ã¤ã‘ãŸ<br>

venvçš„ãªã‚‚ã®ã‚’æ¢ã—ãŸã‚‰ã€nvmã¨ã„ã†ãƒ„ãƒ¼ãƒ«ãŒå‡ºã¦ããŸã®ã§ä½¿ã£ã¦ã¿ã‚‹

### nvmã«ã¤ã„ã¦
nodeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è‡ªç”±ã«ä½¿ã„åˆ†ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ„ãƒ¼ãƒ«<br>

nvmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>
â€»å…ˆèµ°ã£ã¦`npm install -g nvm`ã‚’ã—ã¦ã—ã¾ã£ãŸã®ã§ã€ã†ã¾ãã„ã£ã¦ãªã„<br>
`npm uninstall -g nvm`ã‚’ã—ãŸã¯ãš
```
% curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 15037  100 15037    0     0   174k      0 --:--:-- --:--:-- --:--:--  209k
=> nvm is already installed in /Users/hiroaki/.nvm, trying to update using git
=> => Compressing and cleaning up git repository

=> nvm source string already in /Users/hiroaki/.zshrc
=> bash_completion source string already in /Users/hiroaki/.zshrc
=> You currently have modules installed globally with `npm`. These will no
=> longer be linked to the active version of Node when you install a new node
=> with `nvm`; and they may (depending on how you construct your `$PATH`)
=> override the binaries of modules installed with `nvm`:

/usr/local/lib
â””â”€â”€ yarn@1.22.19
=> If you wish to uninstall them at a later point (or re-install them under your
=> `nvm` Nodes), you can remove them from the system Node as follows:

     $ nvm use system
     $ npm uninstall -g a_module

=> Close and reopen your terminal to start using nvm or run the following to use it now:

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
% nvm -v
zsh: command not found: nvm
% nvm use 17
zsh: command not found: nvm
```
â†‘ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã¯ãšãªã®ã«ã‚³ãƒãƒ³ãƒ‰ãŒãªã„ã£ã¦æ€’ã‚‰ã‚Œã¦ã‚‹å›³?<br>

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã«è¡¨ç¤ºã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’ã€.zshrcã«è¨˜è¿°<br>
â†“ã“ã‚Œ<br>
```
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
```
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å†èµ·å‹•ã—ã¦â€¦<br>
-> zshèµ·å‹•æ™‚ã«å¤‰ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã®ã§ãã®å¯¾å‡¦ã¯å‚è€ƒãƒªãƒ³ã‚¯<br>
ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§nvmãŒä½¿ãˆã‚‹ã“ã¨ã‚’ç¢ºèª<br>
```
% nvm install 17
Downloading and installing node v17.9.1...
Downloading https://nodejs.org/dist/v17.9.1/node-v17.9.1-darwin-x64.tar.xz...
######################################################################### 100.0%
Computing checksum with shasum -a 256
Checksums matched!
Now using node v17.9.1 (npm v8.11.0)
Creating default alias: default -> 17 (-> v17.9.1)
hiroaki@suzukinoMacBook-Air ~ % nvm use 17
Now using node v17.9.1 (npm v8.11.0)
```

## æ¤œç´¢ç”¨ã‚¿ã‚°
nuxt.js, npm, nvm, node.js, node

## å‚è€ƒ
- [commit-mate](https://commit-mate-net.netlify.app)
- [github commit-mate.net](https://github.com/commit-mate/commit-mate.net)
- [NUXTJS](https://develop365.gitlab.io/nuxtjs-2.8.X-doc/ja/guide/commands/)
- [Nuxt.jsä½¿ã£ã¦ã¿ãŸ](https://qiita.com/_takeshi_24/items/224d00e5a026dbb76716)
- [Web Service Development](https://wsdlab.com/?p=2441)
- [macã§zshã§zsh compinit: insecure directoriesã®è­¦å‘ŠãŒå‡ºã‚‹å•é¡Œ](https://qiita.com/ayihis@github/items/88f627b2566d6341a741)